{% extends 'base.html' %}
{% block conteudo %}

<div class="container mt-4">

    <h1 class="text-danger">Oops! Algo deu errado.</h1>

    <!-- ADMIN SEGURANÇA vê informações detalhadas -->
    {% if perfil_usuario == "Administrador de Segurança" %}

        <h3 class="mt-3">Erro {{ error_code }} — {{ error_message }}</h3>

        {% if descErro %}
            <p><strong>Descrição técnica:</strong> {{ descErro }}</p>
        {% endif %}

        {% if request.path %}
            <p><strong>Rota acessada:</strong> {{ request.path }}</p>
        {% endif %}

        <p class="text-warning mt-3">
            <strong>Aviso:</strong> Estas informações são exibidas somente para Administradores de Segurança.
        </p>

    {% else %}
        <!-- Para usuários comuns -->
        <h3 class="mt-3">Erro interno no servidor.</h3>
        <p>Algo inesperado aconteceu. A equipe já foi notificada.</p>
    {% endif %}

    <hr>

    <h4>O que você pode fazer?</h4>
    <ul>
        <li>Retornar para a <a href="{{ url_for('home') }}">página inicial</a>.</li>
        <li>Usar o menu de navegação acima.</li>
    </ul>

</div>

{% endblock %}
